LANSA.addComponent({id:"XNOTESDLG",nm:"xNotesDialog",ot:"wv",tp:"Dialog",pt:"ap",de:"Note Dialog",tl:15000003},function(l,oI,u){var lIO="";var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")||(l.gCL()=="LLL")){cL=l.gCL();}var Fd={F1:{nm:"XNOTETYPE",an:"xNoteType",ft:"A",ln:32,dc:0,lb:"Note User Busin",h1:"Note",h2:"User",h3:"Business",de:"Note Object Name/Type",dv:"",ia:["FE"]},F2:{nm:"XNOTEKEY",an:"xNoteKey",ft:"NV",ln:256,dc:0,lb:"Note Business O",h1:"Note",h2:"Business",h3:"Object",de:"Note Object Instance Key",
dv:"",ia:["FE"]},F3:{nm:"XNOTESUBV",an:"xNoteSubjectList",ft:"NV",ln:512,dc:0,lb:"Subject",h1:"Subject",h2:"",h3:"",de:"Subject",dv:"",ia:["FE","LC"]},F4:{nm:"XNOTEINFO",an:"xNoteInfoList",ft:"NV",ln:512,dc:0,lb:"Information",h1:"Note Information",h2:"",h3:"",de:"Note Information",dv:"",ia:["FE","LC"]},F5:{nm:"XNOTEGUIV",an:"xNoteGUIDList",ft:"A",ln:32,dc:0,lb:"GUID",h1:"GUID",h2:"GUID",h3:"",de:"GUID",dv:"",ia:["FE"]},F6:{nm:"NOTECOUNTER",ft:"I",ln:4,dc:0,ec:"J",lb:"Std Integer",h1:"Standard",h2:"Integer",
h3:"Field",de:"Standard Integer field",dv:0,ia:["FE","RB"]},F7:{nm:"XNOTEGUID",an:"xNoteGUID",ft:"A",ln:32,dc:0,lb:"GUID",h1:"GUID",h2:"GUID",h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"GUID",dv:"",ia:["FE"]},F8:{nm:"XNOTEJSON",an:"xNoteJSON",ft:"NV",ln:65535,dc:0,lb:"Note in JSON fo",h1:"Note",h2:"in",h3:"JSON",de:"Note in JSON format",dv:"",ia:["ASQN","FE","LC"]},F9:{nm:"XNOTEHTML",an:"xNoteHTML",ft:"NV",ln:65535,dc:0,lb:"Note in HTML fo",h1:"Note",h2:"in",h3:"HTML",de:"Note in HTML format",
dv:"",ia:["ASQN","FE","LC"]},F10:{nm:"XNOTESUBJ",an:"xNoteSubject",ft:"NV",ln:512,dc:0,lb:"Subject",h1:"Subject",h2:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"Subject",dv:"",ia:["FE","LC"]},F11:{nm:"XNOTECRT",an:"xNoteCreated",ft:"DT",ln:26,dc:0,lb:"Created",h1:"Created",h2:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"Created",dv:l.SqlNull,ia:["ASQN","FE","ISO","SUTC"],oa:["TCYC"]},F12:{nm:"XNOTECRTB",
an:"xNoteCreatedBy",ft:"A",ln:32,dc:0,lb:"By",h1:"By",h2:"By",h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"By",dv:"",ia:["FE"]},F13:{nm:"XNOTEUPD",an:"xNoteUpdated",ft:"DT",ln:26,dc:0,lb:"Updated",h1:"Updated",h2:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"Updated",dv:l.SqlNull,ia:["ASQN","FE","ISO","SUTC"],oa:["TCYX"]},F14:{nm:"XNOTEUPDB",an:"xNoteUpdatedBy",ft:"A",ln:32,dc:0,lb:"By",h1:"By",h2:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],
h3:{"ENG":" ","FRA":" ","JPN":" ","LLL":""}[cL],de:"By",dv:"",ia:["FE"]},F15:{nm:"IO$STS",ft:"A",ln:2,dc:0,lb:{"ENG":"I/O status ....","FRA":"Statut I/O  . .","JPN":"I/O status ....","LLL":"I/O status ...."}[cL],h1:{"ENG":"I/O","FRA":"Statut","JPN":"I/O","LLL":"I/O"}[cL],h2:{"ENG":"Status","FRA":"I/O","JPN":"Status","LLL":"Status"}[cL],h3:" ",de:{"ENG":"Data base I/O operation status code","FRA":"Code statut opération I/O","JPN":"Data base I/O operation status code","LLL":"Data base I/O operation status code"}[cL],
dv:"",ia:["FE"]}};var cO=l.rC(oI,{an:"PRIM_DLG",fd:Fd,pt:{CurrentOwnerType:{da:"rw"},CurrentOwnerKey:{da:"rw"},ReadOnly:{da:"na"}},mt:{ShowNotes:{ps:{"ForOwnerType":{pt:"i"},"ForOwnerKey":{pt:"i"}}},LoadNotesList:{}},ev:{CloseNotes:{ps:{"iNotesChanged":{pt:"i"}}}},co:function(){cO.aN.call(this);var f=this.aF("XNOTESDLG",Fd);var C0=this.cR("ATTACHLAYOUT1","PRIM_ATLM");var C1=this.cR("ATTACHLAYOUT1ITEM1","PRIM_ATLI");var C2=this.cR("ATTACHLAYOUT1ITEM3","PRIM_ATLI");var C3=this.cR("ATTACHLAYOUT1ITEM4","PRIM_ATLI");
var C4=this.cR("LAYOUTAPPBAR","PRIM_TBLO");var C5=this.cR("LAYOUTAPPBARROW1","PRIM_TBLO","Row");var C6=this.cR("LAYOUTAPPBARCOLUMN1","PRIM_TBLO","Column");var C7=this.cR("APPBAR","PRIM_MD","AppBar");var C8=this.cR("LISTPANEL","PRIM_PANL");var C9=this.cR("LAYOUT","PRIM_TBLO");var C10=this.cR("LAYOUTCOLUMN1","PRIM_TBLO","Column");var C11=this.cR("LAYOUTROW1","PRIM_TBLO","Row");var C12=this.cR("LAYOUTITEM1","PRIM_TBLO","Item");var C13=this.cR("LAYOUTITEM2","PRIM_TBLO","Item");var C14=this.cR("LAYOUTLIST","PRIM_TBLO");
var C15=this.cR("LAYOUTLISTCOLUMN1","PRIM_TBLO","Column");var C16=this.cR("LAYOUTLISTROW1","PRIM_TBLO","Row");var C17=this.cR("LAYOUTLISTITEM1","PRIM_TBLO","Item");var C18=this.cR("LAYOUTLISTITEM2","PRIM_TBLO","Item");var C19=this.cR("LAYOUTLISTITEM3","PRIM_TBLO","Item");var C20=this.cR("LAYOUTLISTITEM4","PRIM_TBLO","Item");var C21=this.cR("MOBILELIST","PRIM_MD","List");var C22=this.cR("SMALLISTICON","PRIM_MD","ListIcon");var C23=this.cR("SMALLNOTESUBJECT","PRIM_MD","ListLabel");var C24=this.cR("SMALLINFORMATION1","PRIM_MD","ListLabel");
var C25=this.cR("SMALLGUID","PRIM_MD","ListLabel");var C26=this.cR("CREATEBUTTON","PRIM_MD","ActionButton");var C27=this.cR("NOTEEDIT","XNOTEEDIT");var C28=this.cR("PREPARED","PRIM_BOLN");var C29=this.cR("REBUILDLIST","PRIM_BOLN");var C30=this.cF("CURRENTOWNERTYPE",Fd.F1.Dc);var C31=this.cF("CURRENTOWNERKEY",Fd.F2.Dc);var C32=this.cR("NOTESCHANGED","PRIM_BOLN");C0.iC();C1.setAttachment("TOP");C1.setManage(C7);C1.setParent(C0);C1.iC();C2.setAttachment("CENTER");C2.setManage(C27);C2.setParent(C0);C2.iC();
C3.setAttachment("CENTER");C3.setManage(C8);C3.setParent(C0);C3.iC();C4.iC();C5.setDisplayPosition(1);C5.setParent(C4);C5.iC();C6.setDisplayPosition(1);C6.setParent(C4);C6.iC();C7.setDisplayPosition(1);C7.setIcon("arrow_back");C7.setParent(this);C7.setTabPosition(2);C7.setWidth(806);C7.setLayoutManager(C4);C7.setCaption("Notes");C7.setThemeDrawStyle("Heading1");C7.iC();C8.setDisplayPosition(2);C8.setParent(this);C8.setTabPosition(3);C8.setHeight(503);C8.setLeft(0);C8.setTop(56);C8.setWidth(806);C8.setLayoutManager(C9);
C8.iC();C9.iC();C10.setDisplayPosition(1);C10.setParent(C9);C10.iC();C11.setDisplayPosition(1);C11.setParent(C9);C11.iC();C12.setManage(C21);C12.setParent(C9);C12.setRow(C11);C12.setColumn(C10);C12.iC();C13.setManage(C26);C13.setParent(C9);C13.setRow(C11);C13.setSizing("NONE");C13.setColumn(C10);C13.setAlignment("BOTTOMRIGHT");C13.setMarginBottom(16);C13.setMarginRight(16);C13.iC();C14.iC();C15.setDisplayPosition(1);C15.setParent(C14);C15.iC();C16.setDisplayPosition(1);C16.setParent(C14);C16.iC();
C17.setColumn(C15);C17.setManage(C22);C17.setMarginLeft(8);C17.setParent(C14);C17.setRow(C16);C17.setSizing("NONE");C17.setAlignment("CENTERLEFT");C17.iC();C18.setColumn(C15);C18.setFlow("CENTERVERTICAL");C18.setManage(C23);C18.setMarginLeft(40);C18.setMarginRight(4);C18.setParent(C14);C18.setRow(C16);C18.setSizing("FITTOWIDTH");C18.iC();C19.setColumn(C15);C19.setFlow("CENTERVERTICAL");C19.setManage(C24);C19.setMarginLeft(50);C19.setMarginRight(4);C19.setParent(C14);C19.setRow(C16);C19.setSizing("FITTOWIDTH");
C19.iC();C20.setColumn(C15);C20.setFlow("CENTERVERTICAL");C20.setManage(C25);C20.setParent(C14);C20.setRow(C16);C20.setSizing("FITTOWIDTH");C20.setMarginLeft(50);C20.iC();C21.setDisplayPosition(2);C21.setLayoutManager(C14);C21.setLeft(0);C21.setParent(C8);C21.setRowHeight(68);C21.setTabPosition(1);C21.setThemeDrawStyle("Card");C21.setTop(0);C21.setHeight(503);C21.setWidth(806);C21.iC();C22.setDisplayPosition(1);C22.setHeight(24);C22.setLeft(8);C22.setParent(C21);C22.setTabPosition(1);C22.setWidth(24);
C22.setIconImageSizing("NONE");C22.setIcon("description");C22.setTop(22);C22.setIconThemeDrawStyle("ForegroundMediumPrimary");C22.iC();C23.setDisplayPosition(2);C23.setHeight(21);C23.setLeft(40);C23.setCaption("Note");C23.setParent(C21);C23.setTabPosition(2);C23.setWidth(760);C23.setTop(5);C23.setSource(f.F3);C23.setWordWrap(true);C23.iC();C24.setDisplayPosition(5);C24.setHeight(19);C24.setLeft(50);C24.setParent(C21);C24.setTabPosition(5);C24.setTop(45);C24.setWidth(750);C24.setCaption("Note Info");
C24.setThemeDrawStyle("Subheading+ForegroundSecondary");C24.setSource(f.F4);C24.iC();C25.setDisplayPosition(4);C25.setHeight(19);C25.setLeft(50);C25.setParent(C21);C25.setTabPosition(4);C25.setThemeDrawStyle("Subheading+ForegroundSecondary");C25.setTop(26);C25.setWidth(754);C25.setCaption("GUID");C25.setVisible(false);C25.setSource(f.F5);C25.iC();C26.setDisplayPosition(1);C26.setIcon("add");C26.setLeft(734);C26.setParent(C8);C26.setTabPosition(2);C26.setThemeDrawStyle("DarkAccent");C26.setTabStop(false);
C26.setTop(431);C26.iC();C27.setVisible(false);C27.setParent(this);C27.setHeight(503);C27.setTop(56);C27.setWidth(806);C27.setDisplayPosition(3);C27.iC();C28.iC();C29.iC();C30.aD();C30.iC();C31.aD();C31.iC();C32.iC();l.WEB().aH("DEVICECHANGED",this,e1);C7.aH("ICONCLICK",this,e3);C21.aH("ITEMCLICK",this,e5);C26.aH("CLICK",this,e4);C27.aH("QUILLPREPARED",this,e2);C27.aH("HIDE",this,e6);C27.aH("SHOW",this,e7);C27.aH("NOTESCHANGED",this,e8);this.setHeight(561);this.setWidth(808);this.setLayoutManager(C0);
this.aH("PREPARE",this,e1);var li=this.aL("XNOTESDLG");li.NOTELIST=l.cLT({"XNOTETYPE":f.F1,"XNOTEKEY":f.F2,"XNOTEGUID":f.F7,"XNOTEJSON":f.F8,"XNOTEHTML":f.F9,"XNOTESUBJ":f.F10,"XNOTECRT":f.F11,"XNOTECRTB":f.F12,"XNOTEUPD":f.F13,"XNOTEUPDB":f.F14},f.F6);}});cO.mthSETREADONLY=function(p0){var m=this.REF,r=l.pR(this,cO,"SetReadOnly",81);var P0=r.cP("IREADONLY","PRIM_BOLN");P0.set(p0);r.ln=81;{r.ln=84;m.CREATEBUTTON.setVisible(l.not(P0.get()));r.ln=86;m.NOTEEDIT.setREADONLY(P0.get());}r.ln=88;r.e();};
function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#SYS_WEB.DeviceChanged #COM_OWNER.Prepare",94);r.ln=94;{r.ln=96;if(l.s.eq(l.WEB().getDevice(),"MOBILE")){r.ln=98;this.setPlacement("FULLSCREEN");}else{r.ln=101;this.setPlacement("CENTER");}r.ln=105;m.NOTESCHANGED.set(false);r.ln=107;m.PREPARED.set(false);}r.ln=109;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#NoteEdit.QuillPrepared",112);r.ln=112;{r.ln=114;m.PREPARED.set(true);}r.ln=116;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Appbar.IconClick",120);
r.ln=120;{r.ln=122;m.NOTEEDIT.mthTERMINATE();r.ln=124;{var eP=l.ePs();eP.cR("INOTESCHANGED","PRIM_BOLN");eP.r("INOTESCHANGED").set(m.NOTESCHANGED.get());this.fE("CLOSENOTES",eP);eP.e();}}r.ln=126;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#CreateButton.Click",130);r.ln=130;{r.ln=132;m.NOTEEDIT.mthMAKENEWNOTE(m.CURRENTOWNERTYPE.get(),m.CURRENTOWNERKEY.get());r.ln=134;this.setModified(true);}r.ln=136;r.e();};function e5(sender,Ps){var f=this.FLD.XNOTESDLG,m=this.REF,r=l.eR(this,cO,"#MobileList.ItemClick",140);
r.ln=140;{r.ln=141;f.F15.set(lIO=m.MOBILELIST.getEntry(m.MOBILELIST.getFocusItem().getEntry()));r.ln=143;f.F7.set(f.F5.get());r.ln=145;m.NOTEEDIT.mthSHOWITEM(f.F5.get());}r.ln=147;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#NoteEdit.Hide",151);r.ln=151;{r.ln=153;if(l.tB(m.REBUILDLIST.get())){r.ln=155;this.mthLOADNOTESLIST();}r.ln=159;m.NOTEEDIT.setVisible(false);r.ln=160;m.LISTPANEL.setVisible(true);r.ln=161;m.APPBAR.setVisible(true);}r.ln=163;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#NoteEdit.Show",167);
r.ln=167;{r.ln=169;m.NOTEEDIT.setVisible(true);r.ln=170;m.LISTPANEL.setVisible(false);r.ln=171;m.APPBAR.setVisible(false);}r.ln=173;r.e();};function e8(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#NoteEdit.NotesChanged",177);r.ln=177;{r.ln=179;m.REBUILDLIST.set(true);m.NOTESCHANGED.set(true);}r.ln=181;r.e();};cO.mthSHOWNOTES=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"ShowNotes",188);var P0=r.cPF("FOROWNERTYPE",Fd.F1.Dc);var P1=r.cPF("FOROWNERKEY",Fd.F2.Dc);P0.set(p0);P1.set(p1);r.ln=188;{r.ln=192;
this.setCURRENTOWNERTYPE(P0.get());r.ln=193;this.setCURRENTOWNERKEY(P1.get());r.ln=196;this.mthLOADNOTESLIST();r.ln=199;this.mthSHOW();r.ln=202;m.NOTEEDIT.mthPREPARETOSHOW();}r.ln=204;r.e();};cO.mthLOADNOTESLIST=function(){var m=this.REF,r=l.mR(this,cO,"LoadNotesList",206),mth=r;var C0=r.cDR("LOADLIST","XNOTESDTA","LOADPROXYLIST");C0.iC();C0.aH("COMPLETED",this,e9);r.ln=206;{r.ln=209;m.MOBILELIST.clearList();r.ln=211;this.setImage(l.WEB().getLoadingImage());r.ln=213;C0.mthEXECUTEASYNC({FLD:{"XNOTETYPE":m.CURRENTOWNERTYPE.get(),"XNOTEKEY":m.CURRENTOWNERKEY.get()}},{LIST:{"NOTEPROXYLIST":m.MOBILELIST}});
}r.ln=222;r.e();function e9(sender,Ps){var r=l.eR(this,cO,"#LoadList.Completed",215,mth);r.ln=215;{r.ln=217;this.setImage(null);r.ln=218;m.REBUILDLIST.set(false);}r.ln=220;r.e();}};cO.getCURRENTOWNERTYPE=function(){return this.REF.CURRENTOWNERTYPE.get();};cO.setCURRENTOWNERTYPE=function(v){this.REF.CURRENTOWNERTYPE.set(v);};cO.getCURRENTOWNERKEY=function(){return this.REF.CURRENTOWNERKEY.get();};cO.setCURRENTOWNERKEY=function(v){this.REF.CURRENTOWNERKEY.set(v);};cO.setREADONLY=function(v){this.mthSETREADONLY(v);
};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"XNOTETYPE"});}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"XNOTEKEY"});}},{rc:["XNOTEEDIT"],rp:["PRIM_DLG","PRIM_ATLM","PRIM_ATLI","PRIM_TBLO","PRIM_TBLO.Row","PRIM_TBLO.Column","PRIM_MD.AppBar","PRIM_PANL","PRIM_TBLO.Item","PRIM_MD.List","PRIM_MD.ListIcon","PRIM_MD.ListLabel","PRIM_MD.ActionButton","PRIM_BOLN","PRIM_FLD","PRIM_WEB.DataRequest"]});