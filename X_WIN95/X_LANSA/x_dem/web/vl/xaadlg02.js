LANSA.addComponent({id:"XAADLG02",nm:"xAACameraDialog",ot:"wv",tp:"Dialog",pt:"ap",de:"Accident Assessment Camera Dialog",tl:15000003},function(l,oI,u){var c1=l.cDec("1.82"),c2=l.cDec("1.7");var cO=l.rC(oI,{an:"PRIM_DLG",pt:{CameraInitialized:{da:"r"}},mt:{CapturePicture:{ps:{"SaveImageToGallery":{pt:"i"}}},CaptureVideo:{ps:{"SaveImageToGallery":{pt:"i"}}},SelectFromGallery:{},AnnotateImage:{ps:{"SaveImageToGallery":{pt:"i"}}},ActivateDeviceCamera:{ps:{"Source":{pt:"i"},"EnableImage":{pt:"i"},"EnableVideo":
{pt:"i"},"EnableAnnotation":{pt:"i"},"SaveToGallery":{pt:"i"}}},CalculateDimensions:{},GetFileBase64:{ps:{"FilePath":{pt:"i"}}},ImageTaken:{}},ev:{Complete:{ps:{"File":{pt:"i"},"Base64Data":{pt:"i"},"MimeType":{pt:"i"}}},Failed:{ps:{"Result":{pt:"i"}}},SettingMegapixels:{ps:{"MegaPixels":{pt:"o"}}},SettingVideoQuality:{ps:{"VideoQuality":{pt:"o"}}},Delete:{},ReviewImage:{ps:{"Base64Data":{pt:"i"},"ImageMimeType":{pt:"i"}}}},co:function(){cO.aN.call(this);var C0=this.cR("STYLE1","PRIM_VS","Style");
var C1=this.cR("BRUSH1","PRIM_VS","SolidBrush");var C2=this.cR("STYLE2","PRIM_VS","Style");var C3=this.cR("BRUSH2","PRIM_VS","SolidBrush");var C4=this.cR("LAYOUTHEADER","PRIM_TBLO");var C5=this.cR("COLUMN1","PRIM_TBLO","Column");var C6=this.cR("ROW1","PRIM_TBLO","Row");var C7=this.cR("ROW2","PRIM_TBLO","Row");var C8=this.cR("LAYOUT1ITEM1","PRIM_TBLO","Item");var C9=this.cR("LAYOUT1ITEM2","PRIM_TBLO","Item");var C10=this.cR("LAYOUTCONTENT","PRIM_TBLO");var C11=this.cR("COLUMN2","PRIM_TBLO","Column");
var C12=this.cR("COLUMN3","PRIM_TBLO","Column");var C13=this.cR("ROW3","PRIM_TBLO","Row");var C14=this.cR("LAYOUT2ITEM1","PRIM_TBLO","Item");var C15=this.cR("LAYOUT2ITEM2","PRIM_TBLO","Item");var C16=this.cR("LAYOUTCONTENTITEM1","PRIM_TBLO","Item");var C17=this.cR("LAYOUT3","PRIM_TBLO");var C18=this.cR("COLUMN4","PRIM_TBLO","Column");var C19=this.cR("COLUMN5","PRIM_TBLO","Column");var C20=this.cR("COLUMN6","PRIM_TBLO","Column");var C21=this.cR("COLUMN7","PRIM_TBLO","Column");var C22=this.cR("ROW4","PRIM_TBLO","Row");
var C23=this.cR("ROW5","PRIM_TBLO","Row");var C24=this.cR("ROW6","PRIM_TBLO","Row");var C25=this.cR("ROW7","PRIM_TBLO","Row");var C26=this.cR("LAYOUT3ITEM1","PRIM_TBLO","Item");var C27=this.cR("LAYOUT3ITEM2","PRIM_TBLO","Item");var C28=this.cR("LAYOUT3ITEM3","PRIM_TBLO","Item");var C29=this.cR("LAYOUT3ITEM4","PRIM_TBLO","Item");var C30=this.cR("LAYOUT3ITEM5","PRIM_TBLO","Item");var C31=this.cR("LAYOUTHEADERITEM1","PRIM_TBLO","Item");var C32=this.cR("LAYOUT3ITEM6","PRIM_TBLO","Item");var C33=this.cR("LAYOUT2ITEM3","PRIM_TBLO","Item");
var C34=this.cR("LAYOUT2ITEM4","PRIM_TBLO","Item");var C35=this.cR("CONTENTPANEL","PRIM_PANL");var C36=this.cR("HEADER","PRIM_PANL");var C37=this.cR("ICONBACK","PRIM_MD","Icon");var C38=this.cR("HEADING","PRIM_MD","Label");var C39=this.cR("BUTTONPHOTO","PRIM_MD","ActionButton");var C40=this.cR("BUTTONVIDEO","PRIM_MD","ActionButton");var C41=this.cR("BUTTONGALLERY","PRIM_MD","ActionButton");var C42=this.cR("BUTTONANNOTATE","PRIM_MD","ActionButton");var C43=this.cR("SWITCHSAVETODEVICE","PRIM_MD","Switch");
var C44=this.cR("SAVEDIALOG","XAADLG10");var C45=this.cR("CAMERA","XDEVICE04");var C46=this.cR("FILEREAD","XDEVICE06");var C47=this.cR("IMAGETAKEN","PRIM_BOLN");var C48=this.cR("CAMERAINITIALISED","PRIM_BOLN");var C49=this.cR("IMAGEHEIGHT","PRIM_NMBR");var C50=this.cR("IMAGEWIDTH","PRIM_NMBR");var C51=this.cR("IMAGEBASE64DATA","PRIM_ALPH");var C52=this.cR("IMAGEFILEPATH","PRIM_ALPH");var C53=this.cR("MIMETYPE","PRIM_STR");var C54=this.cR("REVIEWPHOTO","PRIM_MD","ActionButton");var C55=this.cR("SAVE","PRIM_MD","Icon");
var C56=this.cR("DELETE","PRIM_MD","Icon");C0.setBackgroundBrush(C1);C0.iC();C1.setColor("255:255:255");C1.iC();C2.setCornerBottomLeft(0);C2.setCornerBottomRight(0);C2.setCornerTopLeft(0);C2.setCornerTopRight(0);C2.setBorderLeft(1);C2.setBorderTop(1);C2.setBorderRight(1);C2.setBorderBottom(1);C2.setBackgroundBrush(C3);C2.iC();C3.setColor("THEME700");C3.iC();C4.iC();C5.setDisplayPosition(1);C5.setParent(C4);C5.iC();C6.setDisplayPosition(1);C6.setParent(C4);C6.setHeight(48);C6.setUnits("PIXELS");C6.iC();
C7.setDisplayPosition(2);C7.setParent(C4);C7.setHeight(c1);C7.iC();C8.setAlignment("TOPLEFT");C8.setColumn(C5);C8.setManage(C36);C8.setParent(C4);C8.setRow(C6);C8.iC();C9.setManage(C35);C9.setParent(C4);C9.setRow(C7);C9.setColumn(C5);C9.iC();C10.iC();C11.setDisplayPosition(1);C11.setParent(C10);C11.setWidth(40);C11.setUnits("PIXELS");C11.iC();C12.setDisplayPosition(2);C12.setParent(C10);C12.setWidth(c2);C12.iC();C13.setDisplayPosition(1);C13.setParent(C10);C13.iC();C14.setColumn(C11);C14.setManage(C37);
C14.setParent(C10);C14.setRow(C13);C14.setSizing("FITTOWIDTH");C14.iC();C15.setColumn(C12);C15.setManage(C38);C15.setParent(C10);C15.setRow(C13);C15.setMarginRight(80);C15.setMarginLeft(40);C15.iC();C16.setColumn(C12);C16.setFlow("LEFT");C16.setManage(C55);C16.setParent(C10);C16.setRow(C13);C16.setSizing("NONE");C16.setAlignment("CENTERRIGHT");C16.iC();C17.iC();C18.setDisplayPosition(1);C18.setParent(C17);C18.iC();C19.setDisplayPosition(2);C19.setParent(C17);C19.setUnits("PIXELS");C19.setWidth(128);
C19.iC();C20.setDisplayPosition(3);C20.setParent(C17);C20.setUnits("PIXELS");C20.setWidth(128);C20.iC();C21.setDisplayPosition(4);C21.setParent(C17);C21.iC();C22.setDisplayPosition(1);C22.setParent(C17);C22.setUnits("PIXELS");C22.setHeight(74);C22.iC();C23.setDisplayPosition(2);C23.setParent(C17);C23.setUnits("PIXELS");C23.setHeight(104);C23.iC();C24.setDisplayPosition(3);C24.setParent(C17);C24.setUnits("PIXELS");C24.setHeight(104);C24.iC();C25.setDisplayPosition(4);C25.setParent(C17);C25.setHeight(1000);
C25.iC();C26.setColumn(C20);C26.setManage(C42);C26.setParent(C17);C26.setRow(C24);C26.setMarginBottom(4);C26.setMarginLeft(4);C26.setMarginRight(4);C26.setMarginTop(4);C26.iC();C27.setColumn(C19);C27.setManage(C41);C27.setParent(C17);C27.setRow(C24);C27.setMarginBottom(4);C27.setMarginLeft(4);C27.setMarginRight(4);C27.setMarginTop(4);C27.iC();C28.setColumn(C19);C28.setManage(C39);C28.setParent(C17);C28.setRow(C23);C28.setMarginBottom(4);C28.setMarginLeft(4);C28.setMarginRight(4);C28.setMarginTop(4);
C28.iC();C29.setColumn(C20);C29.setManage(C40);C29.setParent(C17);C29.setRow(C23);C29.setMarginBottom(4);C29.setMarginLeft(4);C29.setMarginRight(4);C29.setMarginTop(4);C29.iC();C30.setAlignment("TOPCENTER");C30.setColumn(C19);C30.setManage(C43);C30.setParent(C17);C30.setRow(C25);C30.setSizing("FITTOWIDTH");C30.setColumnSpan(2);C30.setMarginLeft(4);C30.setMarginTop(8);C30.setFlow("DOWN");C30.iC();C31.setColumn(C5);C31.setManage(C35);C31.setParent(C4);C31.setRow(C7);C31.iC();C32.setColumn(C19);C32.setManage(C54);
C32.setParent(C17);C32.setRow(C25);C32.setMarginLeft(4);C32.setMarginRight(4);C32.setMarginTop(4);C32.setFlow("DOWN");C32.setAlignment("TOPCENTER");C32.setColumnSpan(2);C32.setSizing("FITTOWIDTH");C32.iC();C33.setAlignment("CENTERRIGHT");C33.setColumn(C12);C33.setManage(C44);C33.setParent(C10);C33.setRow(C13);C33.setSizing("NONE");C33.setFlow("LEFT");C33.iC();C34.setAlignment("CENTERRIGHT");C34.setColumn(C12);C34.setManage(C56);C34.setParent(C10);C34.setRow(C13);C34.setSizing("NONE");C34.setFlow("LEFT");
C34.iC();C35.setParent(this);C35.setDisplayPosition(2);C35.setTabPosition(2);C35.setHeight(527);C35.setLeft(0);C35.setTop(48);C35.setWidth(382);C35.setVerticalScroll(true);C35.setLayoutManager(C17);C35.iC();C36.setParent(this);C36.setDisplayPosition(1);C36.setTabPosition(1);C36.setThemeDrawStyle("DarkTitle");C36.setHeight(48);C36.setLeft(0);C36.setTop(0);C36.setWidth(382);C36.setLayoutManager(C10);C36.iC();C37.setDisplayPosition(1);C37.setIcon("arrow_back");C37.setLeft(0);C37.setParent(C36);C37.setTabPosition(3);
C37.setTop(4);C37.setWidth(40);C37.setHeight(40);C37.iC();C38.setDisplayPosition(2);C38.setLeft(80);C38.setParent(C36);C38.setTabPosition(4);C38.setThemeDrawStyle("Heading2");C38.setTop(0);C38.setHeight(48);C38.setWidth(222);C38.setCaptionAlignment("CENTER");C38.setWordWrap(true);C38.setCaption("Capture Image");C38.iC();C39.setCaption("Capture Photo");C39.setDisplayPosition(1);C39.setLeft(67);C39.setParent(C35);C39.setTabPosition(2);C39.setTop(78);C39.setHeight(96);C39.setWidth(120);C39.setIcon("fa-camera");
C39.setIconAlignment("ABOVECAPTION");C39.setIconHeight(32);C39.setWordWrap(true);C39.setThemeDrawStyle("DarkTitle");C39.setTabStop(false);C39.setStyle(C2);C39.iC();C40.setCaption("Capture Video");C40.setDisplayPosition(2);C40.setLeft(195);C40.setParent(C35);C40.setTabPosition(3);C40.setTop(78);C40.setHeight(96);C40.setWidth(120);C40.setIcon("fa-video-camera");C40.setIconAlignment("ABOVECAPTION");C40.setIconHeight(32);C40.setWordWrap(true);C40.setThemeDrawStyle("DarkTitle");C40.setTabStop(false);C40.setStyle(C2);
C40.iC();C41.setCaption("Select from Images");C41.setDisplayPosition(3);C41.setLeft(67);C41.setParent(C35);C41.setTabPosition(4);C41.setTop(182);C41.setHeight(96);C41.setWidth(120);C41.setIcon("image");C41.setIconAlignment("ABOVECAPTION");C41.setIconHeight(32);C41.setWordWrap(true);C41.setThemeDrawStyle("DarkTitle");C41.setTabStop(false);C41.setStyle(C2);C41.iC();C42.setCaption("Annotate Image");C42.setDisplayPosition(5);C42.setLeft(195);C42.setParent(C35);C42.setTabPosition(5);C42.setTop(182);C42.setHeight(96);
C42.setWidth(120);C42.setIcon("mode_edit");C42.setIconAlignment("ABOVECAPTION");C42.setIconHeight(32);C42.setWordWrap(true);C42.setThemeDrawStyle("DarkTitle");C42.setTabStop(false);C42.setStyle(C2);C42.iC();C43.setCaption("Save to device");C43.setDisplayPosition(6);C43.setLeft(67);C43.setParent(C35);C43.setTabPosition(6);C43.setTop(390);C43.setWidth(252);C43.setChecked(true);C43.setIconColor("THEME700");C43.setHeight(39);C43.setCaptionMarginLeft(12);C43.iC();C44.iC();C45.iC();C46.iC();C47.iC();C48.iC();
C49.iC();C50.iC();C51.iC();C52.iC();C53.iC();C54.setCaption("Review");C54.setDisplayPosition(4);C54.setLeft(67);C54.setParent(C35);C54.setTabPosition(1);C54.setTop(286);C54.setHeight(96);C54.setWidth(248);C54.setIcon("fa-file-image-o");C54.setIconAlignment("ABOVECAPTION");C54.setIconHeight(32);C54.setWordWrap(true);C54.setThemeDrawStyle("DarkTitle");C54.setTabStop(false);C54.setStyle(C2);C54.setVisible(false);C54.iC();C55.setDisplayPosition(3);C55.setIcon("check");C55.setLeft(342);C55.setParent(C36);
C55.setTabPosition(2);C55.setTop(4);C55.setHeight(40);C55.setWidth(40);C55.iC();C56.setDisplayPosition(4);C56.setIcon("delete_forever");C56.setLeft(302);C56.setParent(C36);C56.setTabPosition(1);C56.setTop(4);C56.setHeight(40);C56.setWidth(40);C56.iC();C37.aH("CLICK",this,e9);C39.aH("CLICK",this,e3);C40.aH("CLICK",this,e4);C41.aH("CLICK",this,e5);C42.aH("CLICK",this,e6);C44.aH("SAVECONFIRMED",this,e10);C44.aH("SAVECANCELLED",this,e11);C45.aH("INITIALIZE",this,e1);C45.aH("COMPLETED",this,e7);C46.aH("COMPLETED",this,e8);
C54.aH("CLICK",this,e14);C55.aH("CLICK",this,e12);C56.aH("CLICK",this,e13);this.setHeight(577);this.setWidth(384);this.setLayoutManager(C4);this.setPlacement("FULLSCREEN");this.setStyle(C0);this.setAutoClose(true);this.aH("PREPARE",this,e2);}});function e1(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Camera.Initialize",101);r.ln=101;{r.ln=103;m.CAMERAINITIALISED.set(true);}r.ln=105;r.e();};function e2(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#COM_OWNER.Prepare",107);r.ln=107;{r.ln=109;m.DELETE.setEnabled(l.s.ne(m.IMAGEFILEPATH.get(),""));
m.SAVE.setEnabled(l.s.ne(m.IMAGEFILEPATH.get(),""));m.REVIEWPHOTO.setVisible(l.s.ne(m.IMAGEFILEPATH.get(),""));r.ln=111;this.setModified(false);}r.ln=113;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ButtonPhoto.Click",116);r.ln=116;{r.ln=118;cO.mthCAPTUREPICTURE.call(this,m.SWITCHSAVETODEVICE.getChecked());}r.ln=120;r.e();};function e4(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ButtonVideo.Click",122);r.ln=122;{r.ln=124;cO.mthCAPTUREVIDEO.call(this,m.SWITCHSAVETODEVICE.getChecked());
}r.ln=126;r.e();};function e5(sender,Ps){var r=l.eR(this,cO,"#ButtonGallery.Click",128);r.ln=128;{r.ln=130;this.mthSELECTFROMGALLERY();}r.ln=132;r.e();};function e6(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ButtonAnnotate.Click",134);r.ln=134;{r.ln=136;cO.mthANNOTATEIMAGE.call(this,m.SWITCHSAVETODEVICE.getChecked());}r.ln=138;r.e();};function e7(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Camera.Completed",140);var P0=Ps.r("MESSAGE");var P1=Ps.r("STATUS");r.ln=140;{r.ln=142;if(l.s.eq(P1.get(),"OK"))
{r.ln=144;this.setModified(true);r.ln=146;if(l.tB(l.s.eq(m.MIMETYPE.get(),"image/png"))){r.ln=148;m.IMAGEBASE64DATA.set(m.CAMERA.getIMAGEASBASE64DATA());r.ln=150;m.IMAGEFILEPATH.set(m.CAMERA.getOUTPUTFILE());r.ln=152;this.mthIMAGETAKEN();}else{r.ln=156;cO.mthGETFILEBASE64.call(this,m.CAMERA.getOUTPUTFILE());}}else{r.ln=162;{var eP=l.ePs();eP.cR("RESULT","PRIM_STR");eP.r("RESULT").set(l.s.Substitute("Camera failed: &1 &2",P1.get(),P0.get()));this.fE("FAILED",eP);eP.e();}}}r.ln=166;r.e();};function e8(sender,Ps)
{var m=this.REF,r=l.eR(this,cO,"#FileRead.Completed",168);var P0=Ps.r("DATA");var P1=Ps.r("MESSAGE");var P2=Ps.r("STATUS");r.ln=168;{r.ln=170;if(l.s.eq(P2.get(),"OK")){r.ln=172;m.IMAGEBASE64DATA.set(P0.get());r.ln=174;m.IMAGEFILEPATH.set(m.CAMERA.getOUTPUTFILE());r.ln=176;this.mthIMAGETAKEN();}else{r.ln=180;{var eP=l.ePs();eP.cR("RESULT","PRIM_STR");eP.r("RESULT").set(l.s.Substitute("Camera failed: &1 &2",P2.get(),P1.get()));this.fE("FAILED",eP);eP.e();}}}r.ln=184;r.e();};function e9(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#IconBack.Click",186);
r.ln=186;{r.ln=188;if(this.getModified()){r.ln=190;m.SAVEDIALOG.mthSHOW();}else{r.ln=194;this.mthCLOSE();}}r.ln=198;r.e();};function e10(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#SaveDialog.SaveConfirmed",200);r.ln=200;{r.ln=202;{var eP=l.ePs();eP.cR("FILE","PRIM_STR");eP.cR("BASE64DATA","PRIM_STR");eP.cR("MIMETYPE","PRIM_STR");eP.r("FILE").set(m.IMAGEFILEPATH.get());eP.r("BASE64DATA").set(m.IMAGEBASE64DATA.get());eP.r("MIMETYPE").set(m.MIMETYPE.get());this.fE("COMPLETE",eP);eP.e();}r.ln=204;this.mthCLOSE();
}r.ln=206;r.e();};function e11(sender,Ps){var r=l.eR(this,cO,"#SaveDialog.SaveCancelled",208);r.ln=208;{r.ln=210;this.fE("DELETE");r.ln=212;this.mthCLOSE();}r.ln=214;r.e();};function e12(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Save.Click",216);r.ln=216;{r.ln=218;{var eP=l.ePs();eP.cR("FILE","PRIM_STR");eP.cR("BASE64DATA","PRIM_STR");eP.cR("MIMETYPE","PRIM_STR");eP.r("FILE").set(m.IMAGEFILEPATH.get());eP.r("BASE64DATA").set(m.IMAGEBASE64DATA.get());eP.r("MIMETYPE").set(m.MIMETYPE.get());this.fE("COMPLETE",eP);
eP.e();}r.ln=220;this.mthCLOSE();}r.ln=222;r.e();};function e13(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#Delete.Click",224);r.ln=224;{r.ln=226;this.fE("DELETE");r.ln=228;m.IMAGEFILEPATH.set("");m.IMAGEBASE64DATA.set("");m.MIMETYPE.set("");r.ln=230;this.mthCLOSE();}r.ln=232;r.e();};function e14(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#ReviewPhoto.Click",234);r.ln=234;{r.ln=236;{var eP=l.ePs();eP.cR("BASE64DATA","PRIM_STR");eP.cR("IMAGEMIMETYPE","PRIM_STR");eP.r("BASE64DATA").set(m.IMAGEBASE64DATA.get());
eP.r("IMAGEMIMETYPE").set(m.MIMETYPE.get());this.fE("REVIEWIMAGE",eP);eP.e();}}r.ln=238;r.e();};cO.mthCAPTUREPICTURE=function(p0){var m=this.REF,r=l.mR(this,cO,"CapturePicture",244);var P0=r.cP("SAVEIMAGETOGALLERY","PRIM_BOLN");P0.set(p0);r.ln=244;{r.ln=247;m.MIMETYPE.set("image/png");r.ln=249;cO.mthACTIVATEDEVICECAMERA.call(this,"CAM",true,false,false,P0.get());}r.ln=251;r.e();};cO.mthCAPTUREVIDEO=function(p0){var m=this.REF,r=l.mR(this,cO,"CaptureVideo",253);var P0=r.cP("SAVEIMAGETOGALLERY","PRIM_BOLN");
P0.set(p0);r.ln=253;{r.ln=256;m.MIMETYPE.set("video/mp4");r.ln=258;cO.mthACTIVATEDEVICECAMERA.call(this,"CAM",false,true,false,P0.get());}r.ln=260;r.e();};cO.mthSELECTFROMGALLERY=function(){var m=this.REF,r=l.mR(this,cO,"SelectFromGallery",262);r.ln=262;{r.ln=264;m.MIMETYPE.set("image/png");r.ln=266;cO.mthACTIVATEDEVICECAMERA.call(this,"LIB",true,true,false,false);}r.ln=268;r.e();};cO.mthANNOTATEIMAGE=function(p0){var m=this.REF,r=l.mR(this,cO,"AnnotateImage",270);var P0=r.cP("SAVEIMAGETOGALLERY","PRIM_BOLN");
P0.set(p0);r.ln=270;{r.ln=273;m.MIMETYPE.set("image/png");r.ln=275;cO.mthACTIVATEDEVICECAMERA.call(this,"CAM",true,false,true,P0.get());}r.ln=277;r.e();};cO.mthACTIVATEDEVICECAMERA=function(p0,p1,p2,p3,p4){var m=this.REF,r=l.mR(this,cO,"ActivateDeviceCamera",279);var P0=r.cP("SOURCE","PRIM_STR");var P1=r.cP("ENABLEIMAGE","PRIM_BOLN");var P2=r.cP("ENABLEVIDEO","PRIM_BOLN");var P3=r.cP("ENABLEANNOTATION","PRIM_BOLN");var P4=r.cP("SAVETOGALLERY","PRIM_BOLN");P0.set(p0);P1.set(p1);P2.set(p2);P3.set(p3);
P4.set(p4);var C0=r.cR("VIDEOQUALITY","PRIM_STR");C0.iC();r.ln=279;{r.ln=288;m.CAMERA.setSOURCE(P0.get());m.CAMERA.setENABLEIMAGE(P1.get());m.CAMERA.setENABLEVIDEO(P2.get());m.CAMERA.setENABLEANNOTATION(P3.get());m.CAMERA.setSAVETOPHOTOGALLERY(P4.get());m.CAMERA.setRETURNFILE(true);m.CAMERA.setRETURNBASE64STRING(true);r.ln=290;if(l.tB(P2.get())){r.ln=292;{var eP=l.ePs();eP.cR("VIDEOQUALITY","PRIM_STR");this.fE("SETTINGVIDEOQUALITY",eP);C0.set(eP.r("VIDEOQUALITY").get());eP.e();}r.ln=293;m.CAMERA.setVIDEOQUALITY(C0.get());
}r.ln=297;if(l.tB(m.CAMERAINITIALISED.get())){r.ln=299;this.mthCALCULATEDIMENSIONS();r.ln=300;m.CAMERA.mthACTIVATECAMERA();}else{r.ln=304;{var eP=l.ePs();eP.cR("RESULT","PRIM_STR");eP.r("RESULT").set("This feature requires the LANSA Mobile app.");this.fE("FAILED",eP);eP.e();}}}r.ln=308;r.e();};cO.mthCALCULATEDIMENSIONS=function(){var m=this.REF,r=l.mR(this,cO,"CalculateDimensions",310);var C0=r.cR("TOTALPIXELS","PRIM_NMBR");var C1=r.cR("MEGAPIXELS","PRIM_NMBR");C0.iC();C1.iC();r.ln=310;{r.ln=315;
{var eP=l.ePs();eP.cR("MEGAPIXELS","PRIM_NMBR");this.fE("SETTINGMEGAPIXELS",eP);C1.set(eP.r("MEGAPIXELS").get());eP.e();}r.ln=317;C0.set(l.n.Sqrt(l.n.AsFloat(l.div(l.mul(C1.get(),1000000),12))));r.ln=319;if(l.n.gt(l.WEB().getWebPage().getHeight(),l.WEB().getWebPage().getWidth())){r.ln=321;m.IMAGEHEIGHT.set(l.mul(C0.get(),4));r.ln=322;m.IMAGEWIDTH.set(l.mul(C0.get(),3));r.ln=323;m.CAMERA.mthSETIMAGESIZE("PORT",m.IMAGEWIDTH.get(),m.IMAGEHEIGHT.get());r.ln=324;m.CAMERA.mthSETBASE64IMAGESIZE("PORT",m.IMAGEWIDTH.get(),m.IMAGEHEIGHT.get());
}else{r.ln=328;m.IMAGEWIDTH.set(l.mul(C0.get(),4));r.ln=329;m.IMAGEHEIGHT.set(l.mul(C0.get(),3));r.ln=330;m.CAMERA.mthSETIMAGESIZE("LAND",m.IMAGEWIDTH.get(),m.IMAGEHEIGHT.get());r.ln=331;m.CAMERA.mthSETBASE64IMAGESIZE("LAND",m.IMAGEWIDTH.get(),m.IMAGEHEIGHT.get());}}r.ln=335;r.e();};cO.mthGETFILEBASE64=function(p0){var m=this.REF,r=l.mR(this,cO,"GetFileBase64",337);var P0=r.cP("FILEPATH","PRIM_STR");P0.set(p0);r.ln=337;{r.ln=340;m.FILEREAD.setFILENAME(P0.get());r.ln=341;m.FILEREAD.setFILETYPE("BIN");
r.ln=342;m.FILEREAD.setDATAENCODING("BASE64");r.ln=343;m.FILEREAD.mthREAD();}r.ln=345;r.e();};cO.mthIMAGETAKEN=function(){var m=this.REF,r=l.mR(this,cO,"ImageTaken",347);r.ln=347;{r.ln=349;m.DELETE.setEnabled(true);m.SAVE.setEnabled(true);m.REVIEWPHOTO.setVisible(true);}r.ln=351;r.e();};cO.getCAMERAINITIALIZED=function(){return this.REF.CAMERAINITIALISED.get();};},{rc:["XAADLG10","XDEVICE04","XDEVICE06"],rp:["PRIM_DLG","PRIM_VS.Style","PRIM_VS.SolidBrush","PRIM_TBLO","PRIM_TBLO.Column","PRIM_TBLO.Row","PRIM_TBLO.Item","PRIM_PANL","PRIM_MD.Icon","PRIM_MD.Label","PRIM_MD.ActionButton","PRIM_MD.Switch","PRIM_BOLN","PRIM_NMBR","PRIM_ALPH","PRIM_STR"],
dp:["PRIM_STR","PRIM_NMBR"]});