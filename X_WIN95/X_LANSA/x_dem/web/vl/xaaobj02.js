LANSA.addComponent({id:"XAAOBJ02",nm:"xAccAssessorApplicationControl",ot:"rp",tp:"Reusable Part",de:"Application Controls",tl:14020004},function(l,oI,u){var cL="ENG";if((l.gCL()=="FRA")||(l.gCL()=="JPN")||(l.gCL()=="LLL")){cL=l.gCL();}var Fd={F1:{nm:"XAAFLD30",an:"xAccAssessorAccidentLatitude",ft:"P",ln:12,dc:9,lb:"Accident Latitu",h1:"Accident",h2:"Latitude",h3:"",de:"Accident Latitude",dv:0,ia:["FE","RB"]},F2:{nm:"XAAFLD29",an:"xAccAssessorAccidentLongitude",ft:"P",ln:12,dc:9,lb:"Accident Longit",
h1:"Accident",h2:"Longitude",h3:"",de:"Accident Longitude",dv:0,ia:["FE","RB"]}};var cO=l.rC(oI,{an:"PRIM_OBJT",fd:Fd,mt:{Login:{},LoggedIn:{},StartSession:{},Submit:{},PendingAssessmentSelected:{},ShowCompleted:{},ShowMap:{ps:{"Latitude":{pt:"i"},"Longitude":{pt:"i"}}},ShowCamera:{ps:{"ImageNumber":{pt:"i"}}},ImageComplete:{},RecordingComplete:{},RecordingAndPlayback:{},AssessmentWarning:{},CheckForKey:{}},ev:{AssessmentSubmitted:{},PendingAssessmentEdit:{},ShowCompletedAssessment:{},CameraComplete:
{},RecordComplete:{},Continue:{},Discard:{},SettingInit:{}},co:function(){cO.aN.call(this);this.aF("XAAOBJ02",Fd);var C0=this.cA("DATA","XAAOBJ01");var C1=this.cA("APPLICATIONSETTINGS","XAAOBJ08");this.cD("ACCIDENTLOCATIONMAP");var C3=this.cR("CAMERA","XAADLG02");var C4=this.cR("LOGIN","XAADLG01");var C5=this.cR("RECORDPLAYBACK","XAADLG03");var C6=this.cR("WARNINGPROMPT","XAADLG05");if((C0!=null)&&(C0.iI()==false)){C0.iC();}if((C1!=null)&&(C1.iI()==false)){C1.iC();}C3.iC();C4.iC();C5.iC();C6.iC();
C6.aH("CONTINUECLICKED",this,e1);C6.aH("DISCARDCLICKED",this,e2);}});function e1(sender,Ps){var r=l.eR(this,cO,"#WarningPrompt.ContinueClicked",32);r.ln=32;{r.ln=34;this.mthPENDINGASSESSMENTSELECTED();}r.ln=36;r.e();};function e2(sender,Ps){var r=l.eR(this,cO,"#WarningPrompt.DiscardClicked",39);r.ln=39;{r.ln=41;this.fE("DISCARD");}r.ln=43;r.e();};function e3(sender,Ps){var m=this.REF,r=l.eR(this,cO,"#AccidentLocationMap.Closed",46);r.ln=46;{r.ln=48;this.srACCIDENTLOCATIONMAP(null);}r.ln=50;r.e();
};cO.mthLOGIN=function(){var m=this.REF,r=l.mR(this,cO,"Login",56);r.ln=56;{r.ln=58;m.LOGIN.setWidth(l.WEB().getWebPage().getWidth());r.ln=60;m.LOGIN.setHeight(l.WEB().getWebPage().getHeight());r.ln=62;m.LOGIN.mthSHOW();}r.ln=64;r.e();};cO.mthLOGGEDIN=function(){var m=this.REF,r=l.mR(this,cO,"LoggedIn",67);r.ln=67;{r.ln=69;this.mthSTARTSESSION();r.ln=71;m.LOGIN.mthCLOSE();}r.ln=73;r.e();};cO.mthSTARTSESSION=function(){var m=this.REF,r=l.mR(this,cO,"StartSession",76),mth=r;var C0=r.cDR("STARTSESSION","XAASRV01","NEWSESSION");
C0.iC();C0.aH("COMPLETED",this,e4);r.ln=76;{r.ln=79;C0.mthEXECUTE({},{});}r.ln=89;r.e();function e4(sender,Ps){var r=l.eR(this,cO,"#StartSession.Completed",81,mth);r.ln=81;{r.ln=83;m.DATA.ref.mthGETASSESSMENTS();r.ln=85;this.fE("SETTINGINIT");}r.ln=87;r.e();}};cO.mthSUBMIT=function(){var m=this.REF,r=l.mR(this,cO,"Submit",92);r.ln=92;{r.ln=94;m.DATA.ref.mthSUBMITASSESSMENT();r.ln=96;this.fE("ASSESSMENTSUBMITTED");}r.ln=98;r.e();};cO.mthPENDINGASSESSMENTSELECTED=function(){var r=l.mR(this,cO,"PendingAssessmentSelected",101);
r.ln=101;{r.ln=103;this.fE("PENDINGASSESSMENTEDIT");}r.ln=105;r.e();};cO.mthSHOWCOMPLETED=function(){var r=l.mR(this,cO,"ShowCompleted",108);r.ln=108;{r.ln=110;this.fE("SHOWCOMPLETEDASSESSMENT");}r.ln=112;r.e();};cO.mthSHOWMAP=function(p0,p1){var m=this.REF,r=l.mR(this,cO,"ShowMap",115);var P0=r.cPF("LATITUDE",Fd.F1.Dc);var P1=r.cPF("LONGITUDE",Fd.F2.Dc);P0.set(p0);P1.set(p1);r.ln=115;{r.ln=119;this.srACCIDENTLOCATIONMAP(l.cC("XAADLG04"));r.ln=121;m.ACCIDENTLOCATIONMAP.setHeight(l.WEB().getWebPage().getHeight());
r.ln=123;m.ACCIDENTLOCATIONMAP.setWidth(l.WEB().getWebPage().getWidth());r.ln=125;m.ACCIDENTLOCATIONMAP.setLATITUDE(P0.get());r.ln=127;m.ACCIDENTLOCATIONMAP.setLONGITUDE(P1.get());r.ln=129;m.ACCIDENTLOCATIONMAP.mthSETMAPCOORDINATES();r.ln=131;m.ACCIDENTLOCATIONMAP.mthSHOW();}r.ln=133;r.e();};cO.mthSHOWCAMERA=function(p0){var m=this.REF,r=l.mR(this,cO,"ShowCamera",136);var P0=r.cP("IMAGENUMBER","PRIM_NMBR");P0.set(p0);r.ln=136;{r.ln=139;m.CAMERA.setHeight(l.WEB().getWebPage().getHeight());r.ln=141;
m.CAMERA.setWidth(l.WEB().getWebPage().getWidth());r.ln=143;m.CAMERA.setIMAGENUMBER(P0.get());r.ln=145;m.CAMERA.mthSHOW();}r.ln=147;r.e();};cO.mthIMAGECOMPLETE=function(){var m=this.REF,r=l.mR(this,cO,"ImageComplete",150);r.ln=150;{r.ln=152;this.fE("CAMERACOMPLETE");r.ln=154;m.CAMERA.mthCLOSE();}r.ln=156;r.e();};cO.mthRECORDINGCOMPLETE=function(){var r=l.mR(this,cO,"RecordingComplete",159);r.ln=159;{r.ln=161;this.fE("RECORDCOMPLETE");}r.ln=163;r.e();};cO.mthRECORDINGANDPLAYBACK=function(){var m=this.REF,r=l.mR(this,cO,"RecordingAndPlayback",166);
r.ln=166;{r.ln=168;m.RECORDPLAYBACK.setWidth(l.WEB().getWebPage().getWidth());r.ln=170;m.RECORDPLAYBACK.setHeight(l.WEB().getWebPage().getHeight());r.ln=172;m.RECORDPLAYBACK.mthINIT();r.ln=174;m.RECORDPLAYBACK.mthSHOW();}r.ln=176;r.e();};cO.mthASSESSMENTWARNING=function(){var m=this.REF,r=l.mR(this,cO,"AssessmentWarning",179);r.ln=179;{r.ln=181;m.WARNINGPROMPT.mthSHOW();}r.ln=183;r.e();};cO.mthCHECKFORKEY=function(){var r=l.mR(this,cO,"CheckForKey",186);var P0=r.cP("RESULT","PRIM_BOLN");r.ln=186;
{r.ln=189;{var l1=l.WEB().getLocalStorage().cI();while(l1.step()){var ITEM=r.sR("ITEM",l1.item());r.ln=191;if(l.s.ne(ITEM.getName(),"XGOOGLEMAP_API_KEY")){continue;}r.ln=193;P0.set(l.and(l.and(l.s.ne(ITEM.getValue(),"YOUR_KEY_HERE"),l.s.ne(ITEM.getValue(),"")),l.n.gt(l.s.CurChars(ITEM.getValue()),25)));r.ln=195;}l1.end();r.dR("ITEM");}}r.ln=197;return r.rV(P0.get());};{Fd.F1.Dc=function(){this.aN.call(this,Fd.F1);};l.cFC({co:Fd.F1.Dc,an:"PRIM_FLD",fn:"XAAFLD30"});}{Fd.F2.Dc=function(){this.aN.call(this,Fd.F2);
};l.cFC({co:Fd.F2.Dc,an:"PRIM_FLD",fn:"XAAFLD29"});}cO.srACCIDENTLOCATIONMAP=function(rn){if(this.REF.ACCIDENTLOCATIONMAP!=null){this.REF.ACCIDENTLOCATIONMAP.rH("CLOSED",this,e3);}this.sR("ACCIDENTLOCATIONMAP",rn);if(this.REF.ACCIDENTLOCATIONMAP!=null){this.REF.ACCIDENTLOCATIONMAP.aH("CLOSED",this,e3);}};},{rc:["XAAOBJ01","XAAOBJ08","XAADLG02","XAADLG01","XAADLG03","XAADLG05"],rp:["PRIM_OBJT","PRIM_WEB.DataRequest","PRIM_FLD"],dc:["XAADLG04"]});